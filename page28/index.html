<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      More than seven &middot; Gareth Rushgrove
    
  </title>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-435455-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
   <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=morethansevennet" id="_carbonads_js"></script>

   <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          More than seven
        </a>
      </h1>
      <p class="lead">Writing about code mainly. Occasional other topics. Made by <a href="https://twitter.com/garethr">@garethr</a>.</p>
    </div>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2009/03/24/google-search-new-features-timeline-search-and-won/">
        Google Search New Features? Timeline Search and Wonder Wheel
      </a>
    </h1>

    <span class="post-date">24 Mar 2009</span>

    <p>Looks like I&#8217;m being experimented on. I just got a strange <em>Web</em> button appearing on a search today and decided to click it. It revealed a host of new Google features (at least I&#8217;ve never seen em before), including various filters and visualisation tools.</p>
<p>The entertainingly named Wonder Wheel was my first click. It&#8217;s a visualisation which shows related search terms. I&#8217;d love to have access to that data via an <span class="caps">API</span> as well.</p>
<p><img src="http://image-host.appspot.com/i/img?id=agppbWFnZS1ob3N0cgwLEgVJbWFnZRiJJww" alt="Example of Wonder Wheel search on Google"/></p>
<p>The timeline view, and time based filters, look more useful for most search activities. Just getting hold of recent content on a particular search term is the sort of thing blog search engines have sended to do well in the past and that Twitter search has been showing off.</p>
<p><img src="http://image-host.appspot.com/i/img?id=agppbWFnZS1ob3N0cgwLEgVJbWFnZRiiHww" /></p>
<p>I hope I keep these features during whatever testing is going on and that they all go live soon. It&#8217;s a pretty big improvement if you ask me.</p>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2009/03/22/github-links-lines-code/">
        Github Links to Lines of Code
      </a>
    </h1>

    <span class="post-date">22 Mar 2009</span>

    <p>Just saw this and thought it was cool. You can <a href="http://github.com/garethr/booky/blob/08615163198a2b51353aeba07f25ec9ed477d60c/src/booky/lib/builder.py#L17-24">link to a specific line, or set of lines</a> on GitHub. All you need to do is append something like #L17-24 to specify highlighting lines 17 to 24.</p>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2009/03/21/hacker-posts/">
        Hacker Posts
      </a>
    </h1>

    <span class="post-date">21 Mar 2009</span>

    <p>I&#8217;ve been playing again with App Engine, and going back to an on/off pet project that I&#8217;ve build variations of for a while.</p>
<p><a href="http://hackerposts.appspot.com"><img src="http://image-host.appspot.com/i/img?id=agppbWFnZS1ob3N0cgwLEgVJbWFnZRihHww" alt="Hacker Posts"/></a></p>
<p>It&#8217;s basically a pretty straightforward aggregation platform, taking content from a number of feeds and creating relationships between the items. It&#8217;s mainly an experiment in creating a decent size site on App Engine &#8211; it can be surprising how many urls you can get out of a good corpus of data:</p>
<ul>
	<li>400 items, each with a unique url</li>
	<li>each item has a variable number of tags generated, at the moment that amounts to about 1000 unique urls</li>
	<li>each month and year of content gets a url so that&#8217;s another 4 or so</li>
	<li>each day for which we have items we also get a url, so that&#8217;s another 90 or so</li>
</ul>
<p>So starting off with 1500 or so pages isn&#8217;t bad. The site also grows over time as new items are posted or I add more feeds. Everything else I&#8217;ve done with App Engine has been more <a href="http://imified-demo.appspot.com/">application</a> <a href="http://image-host.appspot.com/">focused</a> so seeing how a content site performs is interesting in and of itself.</p>
<p>The data in question I used for this first experiment was the feeds I could find from the <a href="http://news.ycombinator.com/leaders">top posters on Hacker News</a>. Hence the name <a href="http://hackerposts.appspot.com">Hacker Posts</a>. That left me with 35 feeds:</p>
<ul>
	<li>http://www.matasano.com/log/feed/</li>
	<li>http://feeds2.feedburner.com/ThinkGene</li>
	<li>http://www.mechanicalrobotfish.com/rss.xml</li>
	<li>http://feeds.feedburner.com/Cloudknow</li>
	<li>http://mark.nirv.net/rss</li>
	<li>http://feeds.feedburner.com/seldomlogical</li>
	<li>http://feeds.feedburner.com/mattmaroon/AAcm</li>
	<li>http://www.swombat.com/rss.xml</li>
	<li>http://feeds.feedburner.com/woobius</li>
	<li>http://feeds2.feedburner.com/danieltenner</li>
	<li>http://www.nilkanth.com/feed/</li>
	<li>http://feeds.feedburner.com/NewCartographer</li>
	<li>http://inthebox.webmin.com/feed</li>
	<li>http://www.maximise.dk/blog/xml/rss.xml</li>
	<li>http://www.pchristensen.com/blog/feed/</li>
	<li>http://280north.com/blog/feed/</li>
	<li>http://tlrobinson.net/blog/feed/</li>
	<li>http://www.WhatToFix.com/atom.xml</li>
	<li>http://alexkrupp.typepad.com/sensemaking/atom.xml</li>
	<li>http://feeds.feedburner.com/yegg</li>
	<li>http://scotchi.net/feed/atom/</li>
	<li>http://paulbuchheit.blogspot.com/feeds/posts/default</li>
	<li>http://www.owenbyrne.com/feed/</li>
	<li>http://blog.jrock.us/feeds/articles/atom</li>
	<li>http://www.kalzumeus.com/feed/</li>
	<li>http://feeds.feedburner.com/gojomo</li>
	<li>http://davidpiccione.com/blog/feed/</li>
	<li>http://blog.blinker.net/feed/</li>
	<li>http://dambalah.com/feed/</li>
	<li>http://dustincurtis.com/rss.xml</li>
	<li>http://blog.jodoro.com/feeds/posts/default</li>
	<li>http://arantaday.com/blog/feed/</li>
	<li>http://www.allanjosephbatac.com/blog/feed</li>
	<li>http://feeds.feedburner.com/offbytwo</li>
	<li>http://feeds.feedburner.com/FoundersBlog-Cluttermecom</li>
</ul>
<p>I have a couple of other communities or events that I&#8217;d like to do the same thing around, as well as a few features I want to add to the underlying software. The nice thing with App Engine is rolling new instances out is as simple as running a command.</p>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2009/03/19/webapp-custom-filters/">
        Webapp custom filters
      </a>
    </h1>

    <span class="post-date">19 Mar 2009</span>

    <p>The webapp framework wish ships with App Engine uses the Django templating system by default, but without Django apps doesn&#8217;t support the same mechanism for loading template tags and filters. <a href="http://javawonders.blogspot.com/2009/01/google-app-engine-templates-and-custom.html">This is how to do it though</a> using a few webapp.template methods.</p>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2009/03/18/simple-wsgi-middleware-app-engine/">
        Simple WSGI Middleware (for App Engine)
      </a>
    </h1>

    <span class="post-date">18 Mar 2009</span>

    <blockquote>
<p><span class="caps">WSGI</span> is the Web Server Gateway Interface. It is a specification for web servers and application servers to communicate with web applications (though it can also be used for more than that). It is a Python standard, described in detail in <a href="http://www.python.org/dev/peps/pep-0333/"><span class="caps">PEP</span> 333</a>.</p>
</blockquote>
<p>For Ruby people <span class="caps">WSGI</span> is the <a href="http://rack.rubyforge.org/">Rack</a> in Python. In fact it was one of the inspirations behind Rack. Rack descriptions itself as:</p>
<blockquote>
<p>Rack provides an minimal interface between webservers supporting Ruby and Ruby frameworks.</p>
</blockquote>
<p>Which I think is a clearer explanation, except in WSGI&#8217;s case we replace Ruby with Python.</p>
<p>As well as being able to write <span class="caps">WSGI</span> middleware for Django or Pylons we can also write <span class="caps">WSGI</span> middleware for App Engine applications &#8211; which is what I spent some time doing today. For the most part I found the examples and documentation interesting but overkill for what I needed to do. Specifically I wanted a piece of middleware which modified the response content, adding extra content into the response. Most of the examples I found didn&#8217;t focus on middleware, or where full blown examples making them hard to follow.</p>
<p>So for anyone looking for a simple example of <span class="caps">WSGI</span> middleware which adds content into the response here goes. I used the <a href="http://pythonpaste.org/webob/">WebOb</a> framework because it provides a nicer interface to the request and response objects and it&#8217;s included in the standard App Engine <span class="caps">SDK</span>. The following sample middleware simple adds <em>Hello World</em> to the end of every response.</p>
<pre>from webob import Request
class SimpleMiddleware(object):
    "Example middleware that appends a message to all 200 html responses"    
    def __init__(self, app):
        self.app = app
    def __call__(self, environ, start_response):       
        # deal with webob request and response objects
        # due to a nicer interface
        req = Request(environ)
        resp = req.get_response(self.app)
        # add a string to the end of the body
        body = resp.body + "Hello World"
        # set the body to the new copy
        resp.body = body
        return resp(environ, start_response)</pre>
<p>In reality you might want to append something to a specific place in the response, or introduce conditionals. This is easy enough to do by parsing the initial value of <em>resp.body</em> in the example above.</p>
<p>To use the middleware in your application you simple wrap your current WSGIApplication instance with the middleware class.</p>
<pre>application = webapp.WSGIApplication(ROUTES, debug=settings.DEBUG)
# add simple middleware
application = SimpleMiddleware(application)
run_wsgi_app(application)</pre>
<p><span class="caps">WSGI</span> middleware is both a useful place for common functionality to live in your App Engine application as well as being a handy tool for anyone working across multiple Python frameworks to share code.</p>
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page29">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page27">Newer</a>
    
  
</div>
    </div>

  </body>
</html>
